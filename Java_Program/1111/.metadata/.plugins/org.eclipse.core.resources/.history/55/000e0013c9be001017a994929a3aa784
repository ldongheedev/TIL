package sec03;

import javax.swing.*;
import java.awt.*;
import java.awt.event.*;

public class ImageViewer extends JFrame {
	JButton btnprev, btnnext;
	ImageIcon [] image;
	JLabel imageLabel, lblTitle;
	int cnt;
	String [] text = {"영국-런던브릿지", "스위스-융프라우", "이탈리아-트레비분수", "파리 에펠탑"};
	
	ImageViewer(){
		setTitle("랜선으로 떠나는 여행");
		Font f = new Font("", Font.BOLD, 30);
		JPanel panel = new JPanel();
		
		lblTitle = new JLabel(text[0], SwingConstants.CENTER);
		lblTitle.setFont(f);
		
		btnprev = new JButton("<<");
		btnnext = new JButton(">>");
		
		btnprev.setFont(f);
		btnnext.setFont(f);
		
		image = new ImageIcon[4];
		panel.setBackground(Color.pink);
		
		//이미지 로딩
		for(int i = 0; i < image.length; i++) {
			String path = "image/img"+i+".png";
			image[i] = new ImageIcon(path);
		}
		
		//처음 이미지
		cnt = 0;
		imageLabel = new JLabel(image[cnt]);
		
		//내부 클래스로 리스너 구현
		class Preview implements ActionListener {
			public void actionPerformed(ActionEvent e) {
				if(cnt > 0 ) {
					cnt--;
					imageLabel.setIcon(image[cnt]);
					lblTitle.setText(text[cnt]);
				}
				else {
					JOptionPane.showConfirmDialog(null, "이전 그림이 없습니다.", "경고", JOptionPane.WARNING_MESSAGE);
				}
			}
		}
		
		class Next implements ActionListener{
			public void actionPerformed(ActionEvent e) {
				if(cnt < 3) {
					cnt++;
					imageLabel.setIcon(image[cnt]);
					lblTitle.setText(text[cnt]);
				}
				else {
					JOptionPane.showConfirmDialog(null, "다음 그림이 없습니다.", "경고", JOptionPane.WARNING_MESSAGE);
				}
			}
		}
		
		//리스너 등록
		btnprev.addActionListener(new Preview());
		btnnext.addActionListener(new Next());
		
		//컴포넌트 부착
		add(imageLabel, "Center");
		panel.add(btnprev);
		panel.add(btnnext);
		add(panel, "South");
		setSize(500,600);
		setVisible(true);
	}

	public static void main(String[] args) {
		new ImageViewer();
	}

}
